<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<!-- Primary Meta Tags -->
<title>ModiNikam - Latest news in Modi Lipi</title>
<meta name="title" content="ModiNikam - Latest news in Modi Lipi">
<meta name="description" content="Free online tool to convert any text from Marathi language in Devnagari/Balbodh script to Modi Lipi">
<meta name="keywords" content="Modi Lipi, Modi Script, Convert to Modi Lipi, Convert to Modi Script, Devnagari to Modi Lipi, Marathi to Modi Lipi, Balbodh to Modi Lipi">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://modinikam.com/">
<meta property="og:title" content="ModiNikam - Latest news in Modi Lipi">
<meta property="og:description" content="Free online tool to convert any text from Marathi language in Devnagari/Balbodh script to Modi Lipi">
<meta property="og:image" content="https://modinikam.com/ModiNikam-Logo-tl.png">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://modinikam.com/">
<meta property="twitter:title" content="ModiNikam - Latest news in Modi Lipi">
<meta property="twitter:description" content="Free online tool to convert any text from Marathi language in Devnagari/Balbodh script to Modi Lipi">
<meta property="twitter:image" content="https://modinikam.com/ModiNikam-Logo-tl.png">

<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.css">
<script src="dom-to-image.min.js" ></script>

<style>
@font-face {
    font-family: ModiNikam;
    src:url("ModiNikam-Regular.otf");
}

.ModiLipi{
    font-family: ModiNikam;
	width: 100%;
	max-width: 100%;
	margin: auto;
}

.Eng{
	color:gray;
	font-family: Arial, Helvetica, sans-serif;
	width: 100%;
	max-width: 100%;
	margin: auto;
}

.hidden { display:none; }

textarea {
	width: 95%;
	max-width: 100%;
}
h1 { text-align: center; padding: 0; margin: 0;}
h2 { text-align: center; padding: 0.1em; margin: 0; font-size: 1.1em;}
h3 { text-align: center; padding: 0.1em; margin: 0;}
table.center {
  margin-left: auto; 
  margin-right: auto;
}

.column{
	display: flex; border: 1px solid; padding: 2%; margin: 2% 0; box-shadow: 3px 5px 3px 3px #888888;
}
.column .img {
	width: 100%; height:100%;
}
.column .content {
	padding: 0 5%; width: 210%;
}
@media(max-width:600px) {
  .column {
    flex-flow: row wrap;
  }
} 
</style>

<script>

window.onload = async function fnloadNews() {
	
	let url = "https://modinikam-news-rssfeed.nikhemant.workers.dev/HT-Marathi-News-JSON"
	//url = url + newsprovider.trim();
    const response = await fetch(url, {mode: 'cors'});	
	var val = await response.text();
	const jsonData = JSON.parse(val);
	let htmltext = "", temphtmltext = "";
	let htmltemplate = `
		<div class="column">
			<div class="img"><img src="##image##"></div>

			<div class="content">
				<span  class="ModiLipi">
					<a target="_blank" href="##link##">
						&#x1F855;&#x1F517;
						##title_ml##
					</a>
					<br>
					##description_ml##
				</span>	<br/>
				<span style="font-size: smaller;">on ##pubDate## - </span>
				<a href="#!" style="font-size: smaller;" class="toogle">üëâ ‡§¶‡•á‡§µ‡§®‡§æ‡§ó‡§∞‡•Ä ‡§Æ‡§ß‡•á‡§π‡•Ä ‡§µ‡§æ‡§ö‡§æ</a>
				<span class="hidden Eng">
					<hr/>
					##title##<br/>
					##description##
				</span>
				<br/><a id="linkexport" href="#!" onclick=fnexportnews(this)>Export as Whatsapp Status >></a>
			</div>
		</div>
		`;


	for (let i = 0; i < jsonData.length; i++) {
      let newsArticle = jsonData[i];
	  newsArticle.title_ml = newsArticle.title_ml.replaceAll("ÀÇ√øpÀÉ","");
	  newsArticle.description_ml = newsArticle.description_ml.replaceAll("ÀÇ√øpÀÉ","");  
	  newsArticle.description_ml = newsArticle.description_ml.replaceAll("√øa√øm√øp ¥",""); //&nbsp;
	  newsArticle.description_ml = newsArticle.description_ml.replaceAll("√øn√øb√øs√øp ¥","");
	  newsArticle.description = newsArticle.description.replaceAll("&amp;nbsp;"," ");
	  temphtmltext = htmltemplate;
	  temphtmltext = temphtmltext.replace("##link##", newsArticle.link).replace("##title_ml##", fnParse_mtext(newsArticle.title_ml)).replace("##description_ml##", fnParse_mtext(newsArticle.description_ml)).replace("##title##", newsArticle.title).replace("##description##", newsArticle.description).replace("##image##", newsArticle.image).replace("##pubDate##", newsArticle.pubDate);
	  htmltext += temphtmltext;
	}

	document.getElementById('news-contents').innerHTML = htmltext;
	
	var coll = document.getElementsByClassName("toogle");
	var i;
	for (i = 0; i < coll.length; i++) {
	coll[i].addEventListener("click", function() {
		var content = this.nextElementSibling;
		//var content = this.querySelector(".content");
		if (content.style.display == 'none' || content.style.display == ''){
		content.style.display = "block";
		} else {
		content.style.display = 'none';
		} 
	});
	}


	var divs = document.getElementsByClassName("hidden Eng");
	var toogledisplay = 0;
	var toggle = function() {    
		if (toogledisplay == 0 ) {
			toogledisplay = 1;
			for (var i = 0, l = divs.length; i < l; i++) 
				divs[i].style.display = 'block';
		} else {
			toogledisplay = 0;
			for (var i = 0, l = divs.length; i < l; i++) 
				divs[i].style.display = 'none'
		}
	}
	document.getElementById('Toggle').onclick = toggle;
}

function fnParse_mtext(val) {
	let htmltext = "";

	for (let i = 0; i < val.length; i++) {
		if(val[i] == "√ø") //If char escaped using √ø Sign U+00FF
			htmltext += "<span class='Eng'>" + val[++i] + "</span>";
		else
			htmltext += "<span>" + val[i] + "</span>";
	}
	return(htmltext);
}

async function fnexportnews(e) {
	var elemsource = e.parentNode.parentNode.cloneNode(true);
	//elem.getElementsByTagName('a')[1].innerText = 'ModiNikam.com'
	elemsource.getElementsByTagName('a')[2].innerText = 'ModiNikam.com'
	//elemsource.getElementsByClassName("toogle")[0].nextElementSibling.style.display = "block";

	var newFirstElement = document.createElement('h2'); //element which should be first in E
	newFirstElement.innerText="ModiNikam.com - ‡§¨‡§æ‡§§‡§Æ‡•ç‡§Ø‡§æ ‡§Æ‡•ã‡§°‡•Ä ‡§≤‡§ø‡§™‡•Ä ‡§Æ‡§ß‡•á";
	//elem.insertBefore(newFirstElement, elem.firstChild);

	var elem = document.createElement('div');
	elem.appendChild(newFirstElement);
	elem.appendChild(elemsource);
	elem.getElementsByClassName("toogle")[0].nextElementSibling.style.display = "block";

	document.body.appendChild(elem);
	await domtoimage.toJpeg(elem, { quality: 0.95, bgcolor: 'white' })
			.then(function (dataUrl) {
				var link = document.createElement('a');
				link.download = 'ModiNikam-news.jpeg';
				link.href = dataUrl;
				link.click();
			});
	document.body.removeChild(elem);
}
</script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FD4S6PDJ05"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FD4S6PDJ05');
</script>

<body>
<table class="center">
<tr>
	<td>
		<h1>
		<a href="https://modinikam.com/">
		<img src="ModiNikam-Logo-tl.png" title="ModiNikam" alt="ModiNikam - Convert Devnagari to Modi Lipi" width="120" height="90" />
		</a>
		</h1>
	</td>
	<td>
		<h2>Convert Marathi (Devnagari) to Modi Lipi</h2>
		<h2>‡§Æ‡§∞‡§æ‡§†‡•Ä ‡§¨‡§æ‡§≥‡§¨‡•ã‡§ß (‡§¶‡•á‡§µ‡§®‡§æ‡§ó‡§∞‡•Ä) ‡§§‡•á ‡§Æ‡•ã‡§°‡•Ä ‡§≤‡§ø‡§™‡•Ä</h2>
		<div style="text-align: center;">‚ù§Ô∏è Like us on <a href="https://www.facebook.com/ModiNikam/">facebook</a>!</div>
	</td>
</tr>
</table>

<hr/>

<h2><u> <a href="#!" title="Latest news in Modi Lipi">üì∞ ‡§§‡§æ‡§ú‡•ç‡§Ø‡§æ ‡§†‡§≥‡§ï ‡§¨‡§æ‡§§‡§Æ‡•ç‡§Ø‡§æ ‡§Æ‡•ã‡§°‡•Ä ‡§≤‡§ø‡§™‡•Ä ‡§Æ‡§ß‡•á üì∞</a></u></h2>
<h2><a id="Toggle" href="#">üëâ ‡§¶‡•á‡§µ‡§®‡§æ‡§ó‡§∞‡•Ä ‡§Æ‡§ß‡•á‡§π‡•Ä ‡§µ‡§æ‡§ö‡§æ  üëà</a></h2>

<div id="news-contents" style="font-size: 0.8em; line-height: 150%; width: 100%;" title="Latest news in Modi Lipi">

</div>
<div style="text-align: center; font-size: 0.5em;">News feed from: https://marathi.hindustantimes.com/</div>

<hr/>
<p style="text-align: center; font-size:0.7em;">‡§ú‡§Ø ‡§π‡§ø‡§Ç‡§¶ ‡§ú‡§Ø ‡§Æ‡§π‡§æ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞<br/>&copy; 2023 ModiNikam. All Rights Reserved.<br/>
email: modinikam@gmail.com</p>

<br/>

</body>
</html>
